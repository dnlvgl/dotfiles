#!/bin/bash

# ppjson
# Pretty print json from a file or an url with jq

if [ $# -lt 1 ]; then
    echo "Usage: $(basename "$0") url to json "
    exit 1
fi

# if $1 is a file use it directly
if [ -f "$1" ]; then 
    jq '.' "$1" 
# else if it is an url try to curl it and pipe to jq
elif [[ $1 = http?(s)://* ]]; then
   curl "$1" | jq '.'
else
    echo "'$1' is not a valid filename or url to a json file"
fi
