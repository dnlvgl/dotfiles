#!/bin/bash

# Count words in pdf file

if [ $# -lt 1 ]; then
    echo "Usage: $(basename "$0") pdf file"
    exit 1
fi

# test if $1 is a file and starts with %PDF
if [ -f "$1" ] && [ $(head -c 4 "$1") = "%PDF" ]; then
    pdftotext $1 - | tr -d '.' | wc -w
else
    echo "'$1' is not a pdf file"
fi
